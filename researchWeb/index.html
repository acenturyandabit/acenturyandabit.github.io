<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.7.0/svg.min.js"></script>

</head>

<body>
<textarea>
        The importance of the front-end decision-making phase in projects is being increasingly recognized—the need to “do the right project” is on a par with “doing the project right.” This area is underrepresented in the literature, but there are a number of key themes that run throughout, identifying key issues or difficulties during this stage.

        This article looks at some of these themes and includes: 
        
        - the need for alignment between organizational strategy and the project concept; 
        
        - dealing with complexity, in particular the systemicity and interrelatedness within project decisions; 
        
        - consideration of the ambiguity implicit in all major projects; 
        
        - taking into account psychological and political biases within estimation of benefits and costs; 
        
        - consideration of the social geography and politics within decision-making groups; 
</textarea>
<button onclick="gen()">Process</button>
<div id="drawing">
</div>
<script>
let radius=200;
var draw = SVG('drawing').size(radius*3, radius*3);
function starsplit(s,r,t="~"){
    let ss=s.replace(r,t);
    //remove trailing and leadings
    let serx=new RegExp(`(^${t})|(${t}$)`,"g");
    ss=ss.replace(serx,"");
    return ss.split(t);
}
function randcol() {
    var output = "#";
    ac_char="1234567890abcdef";
    for (var i = 0; i < 6; i++) {
        output += ac_char[Math.floor(Math.random() * 17)];
    }
    return output;
}
function gen(){
    draw.clear();
    let all=document.querySelector("textarea").value;
    all=all.replace(/[^\w\s\n]/g," ");
    let v=starsplit(all,/\n[\n\s]*/mg);
    v=v.map((i)=>i.toLowerCase());
    //remove three letter words
    v=v.map((i)=>i.replace(/( |^)(\S{0,5} )*/g," "));
    //remove other words
    let embargoWordArr=["when","these","some"];
    for (let i=0; i<embargoWordArr.length;i++){
        let re=new RegExp(embargoWordArr[i],"g");
        v=v.map(i=>i.replace(re," "));
    }
    //remove trailing and leading spaces
    v=v.map((i)=>i.replace(/(^ )|( $)/g,""));
    v=v.map((i)=>i.split(/ +/g));
    let sentences=v;
    let wordsObj={};
    
    sentences.forEach(i=>i.forEach(j=>wordsObj[j]={}));
    let wordsArr=Object.keys(wordsObj);
    radius=wordsArr.length+100;
    draw.size(radius*3, radius*3);
    wordsArr.forEach((v,i)=>{
        wordsObj[v].thing=draw.text(v).cx(radius*(1.5+Math.cos(i/wordsArr.length*Math.PI*2))).cy(radius*(1.5+Math.sin(i/wordsArr.length*Math.PI*2)));
    })
    sentences.forEach(st=>{
        let col=randcol();
        for (let i=0;i<st.length-1;i++){
            draw.line(wordsObj[st[i]].thing.cx(),wordsObj[st[i]].thing.cy(),wordsObj[st[i+1]].thing.cx(),wordsObj[st[i+1]].thing.cy()).stroke({width:1,color:col});
        }
    })
}
gen();
</script>
</body>

</html>